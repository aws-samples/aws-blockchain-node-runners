export const SyncNodeCWDashboardJSON = (instanceType: string, dataVolumeType: string) => {

    let disk_name: string = "xvdf";
    if (instance_storage_types.has(instanceType) && dataVolumeType != "instance-store"){
        disk_name = "nvme2n1"
    }else if (instance_storage_types.has(instanceType) && dataVolumeType == "instance-store"){
        disk_name = "nvme1n1"
    }

    return {
        "widgets": [
            {
                "height": 5,
                "width": 6,
                "y": 0,
                "x": 0,
                "type": "metric",
                "properties": {
                    "view": "timeSeries",
                    "stat": "Average",
                    "period": 300,
                    "stacked": false,
                    "yAxis": {
                        "left": {
                            "min": 0
                        }
                    },
                    "region": "${REGION}",
                    "metrics": [
                        [ "AWS/EC2", "CPUUtilization", "InstanceId", "${INSTANCE_ID}", { "label": "${INSTANCE_ID}-${INSTANCE_NAME}" } ]
                    ],
                    "title": "CPU utilization (%)"
                }
            },
            {
                "height": 5,
                "width": 6,
                "y": 5,
                "x": 18,
                "type": "metric",
                "properties": {
                    "view": "timeSeries",
                    "stat": "Average",
                    "period": 300,
                    "stacked": false,
                    "yAxis": {
                        "left": {
                            "min": 0
                        }
                    },
                    "region": "${REGION}",
                    "metrics": [
                        [ "AWS/EC2", "NetworkIn", "InstanceId", "${INSTANCE_ID}", { "label": "${INSTANCE_ID}-${INSTANCE_NAME}" } ]
                    ],
                    "title": "Network in (bytes)"
                }
            },
            {
                "height": 5,
                "width": 6,
                "y": 0,
                "x": 18,
                "type": "metric",
                "properties": {
                    "view": "timeSeries",
                    "stat": "Average",
                    "period": 300,
                    "stacked": false,
                    "yAxis": {
                        "left": {
                            "min": 0
                        }
                    },
                    "region": "${REGION}",
                    "metrics": [
                        [ "AWS/EC2", "NetworkOut", "InstanceId", "${INSTANCE_ID}", { "label": "${INSTANCE_ID}-${INSTANCE_NAME}" } ]
                    ],
                    "title": "Network out (bytes)"
                }
            },
            {
                "height": 5,
                "width": 6,
                "y": 10,
                "x": 0,
                "type": "metric",
                "properties": {
                    "view": "timeSeries",
                    "stacked": false,
                    "region": "${REGION}",
                    "stat": "Average",
                    "period": 300,
                    "metrics": [
                        [ "CWAgent", "mem_used_percent", "InstanceId", "${INSTANCE_ID}", { "label": "${INSTANCE_ID}-${INSTANCE_NAME}" } ]
                    ],
                    "title": "Mem Used (%)"
                }
            },
            {
                "height": 5,
                "width": 6,
                "y": 5,
                "x": 0,
                "type": "metric",
                "properties": {
                    "view": "timeSeries",
                    "stacked": false,
                    "region": "${REGION}",
                    "stat": "Average",
                    "period": 300,
                    "metrics": [
                        [ "CWAgent", "cpu_usage_iowait", "InstanceId", "${INSTANCE_ID}", { "label": "${INSTANCE_ID}-${INSTANCE_NAME}" } ]
                    ],
                    "title": "CPU Usage IO wait (%)"
                }
            },
            {
                "height": 5,
                "width": 6,
                "y": 0,
                "x": 6,
                "type": "metric",
                "properties": {
                    "metrics": [
                        [ { "expression": "m7/PERIOD(m7)", "label": "Read", "id": "e7" } ],
                        [ "CWAgent", "diskio_reads", "InstanceId", "${INSTANCE_ID}", "name", disk_name, { "id": "m7", "visible": false, "stat": "Sum", "period": 60 } ],
                        [ { "expression": "m8/PERIOD(m8)", "label": "Write", "id": "e8" } ],
                        [ "CWAgent", "diskio_writes", "InstanceId", "${INSTANCE_ID}", "name", disk_name, { "id": "m8", "visible": false, "stat": "Sum", "period": 60 } ]
                    ],
                    "view": "timeSeries",
                    "stacked": false,
                    "region": "${REGION}",
                    "stat": "Sum",
                    "period": 60,
                    "title": `${disk_name} Volume Read/Write (IO/sec)`
                }
            },
            {
                "height": 4,
                "width": 6,
                "y": 0,
                "x": 12,
                "type": "metric",
                "properties": {
                    "metrics": [
                        [ "CWAgent", "theta_current_block_height", "InstanceId", "${INSTANCE_ID}", { "label": "${INSTANCE_ID}-${INSTANCE_NAME}" } ]
                    ],
                    "sparkline": true,
                    "view": "timeSeries",
                    "stacked": false,
                    "region": "${REGION}",
                    "stat": "Maximum",
                    "period": 60,
                    "title": "Theta Client Block Height"
                }
            },
            {
                "height": 4,
                "width": 6,
                "y": 4,
                "x": 12,
                "type": "metric",
                "properties": {
                    "sparkline": true,
                    "view": "timeSeries",
                    "stacked": false,
                    "region": "${REGION}",
                    "stat": "Maximum",
                    "period": 60,
                    "metrics": [
                        [ { "expression": "SELECT COUNT(edge_peer) FROM CWAgent GROUP BY InstanceId", "label": "${INSTANCE_ID}-${INSTANCE_NAME}" } ]
                    ],
                    "title": "Theta Client Peer Count"
                }
            },
            {
                "height": 5,
                "width": 6,
                "y": 5,
                "x": 6,
                "type": "metric",
                "properties": {
                    "view": "timeSeries",
                    "stat": "Sum",
                    "period": 60,
                    "stacked": false,
                    "yAxis": {
                        "left": {
                            "min": 0
                        }
                    },
                    "region": "${REGION}",
                    "metrics": [
                        [ { "expression": "IF(m7_2 !=0, (m7_1 / m7_2), 0)", "label": "Read", "id": "e7" } ],
                        [ "CWAgent", "diskio_read_time", "InstanceId", "${INSTANCE_ID}", "name", disk_name, { "id": "m7_1", "visible": false, "stat": "Sum", "period": 60 } ],
                        [ "CWAgent", "diskio_reads", "InstanceId", "${INSTANCE_ID}", "name", disk_name, { "id": "m7_2", "visible": false, "stat": "Sum", "period": 60 } ],
                        [ { "expression": "IF(m7_4 !=0, (m7_3 / m7_4), 0)", "label": "Write", "id": "e8" } ],
                        [ "CWAgent", "diskio_write_time", "InstanceId", "${INSTANCE_ID}", "name", disk_name, { "id": "m7_3", "visible": false, "stat": "Sum", "period": 60 } ],
                        [ "CWAgent", "diskio_writes", "InstanceId", "${INSTANCE_ID}", "name", disk_name, { "id": "m7_4", "visible": false, "stat": "Sum", "period": 60 } ]
                    ],
                    "title": `${disk_name} Volume Read/Write latency (ms/op)`
                }
            },
            {
                "height": 5,
                "width": 6,
                "y": 10,
                "x": 6,
                "type": "metric",
                "properties": {
                    "metrics": [
                        [ { "expression": "(m2/1048576)/PERIOD(m2)", "label": "Read", "id": "e2", "period": 60, "region": "${REGION}" } ],
                        [ "CWAgent", "diskio_read_bytes", "InstanceId", "${INSTANCE_ID}", "name", disk_name, { "id": "m2", "stat": "Sum", "visible": false, "period": 60 } ],
                        [ { "expression": "(m3/1048576)/PERIOD(m3)", "label": "Write", "id": "e3", "period": 60, "region": "${REGION}" } ],
                        [ "CWAgent", "diskio_write_bytes", "InstanceId", "${INSTANCE_ID}", "name", disk_name, { "id": "m3", "stat": "Sum", "visible": false, "period": 60 } ]
                    ],
                    "view": "timeSeries",
                    "stacked": false,
                    "region": "${REGION}",
                    "stat": "Average",
                    "period": 60,
                    "title": `${disk_name} Volume Read/Write throughput (MiB/sec)`
                }
            },
            {
                "height": 3,
                "width": 6,
                "y": 15,
                "x": 6,
                "type": "metric",
                "properties": {
                    "metrics": [
                        [ "CWAgent", "disk_used_percent", "path", "/data", "InstanceId", "${INSTANCE_ID}", "device", disk_name, "fstype", "xfs", { "region": "${REGION}", "label": "/data" } ]
                    ],
                    "sparkline": true,
                    "view": "singleValue",
                    "region": "${REGION}",
                    "title": `${disk_name} Disk Used (%)`,
                    "period": 60,
                    "stat": "Average"
                }
            }
        ]
    }

}

const instance_storage_types = new Set(["d3en.12xlarge",
                                        "d3en.8xlarge",
                                        "d3en.6xlarge",
                                        "d3en.4xlarge",
                                        "g6.48xlarge",
                                        "i3en.24xlarge",
                                        "i3en.metal",
                                        "d3en.2xlarge",
                                        "d2.8xlarge",
                                        "d3.8xlarge",
                                        "p5.48xlarge",
                                        "i3en.12xlarge",
                                        "i4i.metal",
                                        "i4i.32xlarge",
                                        "im4gn.16xlarge",
                                        "is4gen.8xlarge",
                                        "d3en.xlarge",
                                        "d2.4xlarge",
                                        "d3.4xlarge",
                                        "i4i.24xlarge",
                                        "h1.16xlarge",
                                        "i3.16xlarge",
                                        "g6.24xlarge",
                                        "i3.metal",
                                        "g6.12xlarge",
                                        "i3en.6xlarge",
                                        "i4i.16xlarge",
                                        "is4gen.4xlarge",
                                        "i4g.16xlarge",
                                        "im4gn.8xlarge",
                                        "d2.2xlarge",
                                        "d3.2xlarge",
                                        "i4i.12xlarge",
                                        "p4d.24xlarge",
                                        "h1.8xlarge",
                                        "r6idn.metal",
                                        "m6id.32xlarge",
                                        "c6id.32xlarge",
                                        "r6id.32xlarge",
                                        "c6id.metal",
                                        "r6id.metal",
                                        "m6idn.metal",
                                        "m6id.metal",
                                        "g5.48xlarge",
                                        "r6idn.32xlarge",
                                        "i3.8xlarge",
                                        "m6idn.32xlarge",
                                        "trn1.32xlarge",
                                        "trn1n.32xlarge",
                                        "im4gn.4xlarge",
                                        "i3en.3xlarge",
                                        "i4i.8xlarge",
                                        "i4g.8xlarge",
                                        "is4gen.2xlarge",
                                        "i2.8xlarge",
                                        "d2.xlarge",
                                        "d3.xlarge",
                                        "r6id.24xlarge",
                                        "m6id.24xlarge",
                                        "c6id.24xlarge",
                                        "r6idn.24xlarge",
                                        "m6idn.24xlarge",
                                        "i3en.2xlarge",
                                        "h1.4xlarge",
                                        "dl1.24xlarge",
                                        "x1e.32xlarge",
                                        "x1.32xlarge",
                                        "x2iedn.32xlarge",
                                        "x2idn.metal",
                                        "r7gd.metal",
                                        "r6id.16xlarge",
                                        "m6id.16xlarge",
                                        "m7gd.16xlarge",
                                        "x2iedn.metal",
                                        "g5.12xlarge",
                                        "r6idn.16xlarge",
                                        "x2gd.metal",
                                        "m6gd.16xlarge",
                                        "c5ad.24xlarge",
                                        "c6id.16xlarge",
                                        "m7gd.metal",
                                        "m6gd.metal",
                                        "c7gd.metal",
                                        "r7gd.16xlarge",
                                        "m6idn.16xlarge",
                                        "c7gd.16xlarge",
                                        "c6gd.16xlarge",
                                        "x2idn.32xlarge",
                                        "g5.24xlarge",
                                        "i3.4xlarge",
                                        "x2gd.16xlarge",
                                        "r6gd.16xlarge",
                                        "g6.16xlarge",
                                        "r6gd.metal",
                                        "c6gd.metal",
                                        "f1.16xlarge",
                                        "i4i.4xlarge",
                                        "i4g.4xlarge",
                                        "im4gn.2xlarge",
                                        "is4gen.xlarge",
                                        "c5d.24xlarge",
                                        "c5d.metal",
                                        "r5d.24xlarge",
                                        "m5d.24xlarge",
                                        "m5dn.24xlarge",
                                        "m5d.metal",
                                        "r5ad.24xlarge",
                                        "r5dn.24xlarge",
                                        "m5ad.24xlarge",
                                        "r5dn.metal",
                                        "m5dn.metal",
                                        "r5d.metal",
                                        "i2.4xlarge",
                                        "r6idn.12xlarge",
                                        "c6id.12xlarge",
                                        "m6id.12xlarge",
                                        "x2iedn.24xlarge",
                                        "m6gd.12xlarge",
                                        "m6idn.12xlarge",
                                        "c7gd.12xlarge",
                                        "x2idn.24xlarge",
                                        "r6id.12xlarge",
                                        "r6gd.12xlarge",
                                        "r7gd.12xlarge",
                                        "c6gd.12xlarge",
                                        "m7gd.12xlarge",
                                        "x2gd.12xlarge",
                                        "i3en.xlarge",
                                        "m5ad.16xlarge",
                                        "r5d.16xlarge",
                                        "m5dn.16xlarge",
                                        "r5ad.16xlarge",
                                        "m5d.16xlarge",
                                        "r5dn.16xlarge",
                                        "c5ad.16xlarge",
                                        "g4ad.16xlarge",
                                        "h1.2xlarge",
                                        "x1e.16xlarge",
                                        "x1.16xlarge",
                                        "r6id.8xlarge",
                                        "r6idn.8xlarge",
                                        "x2iedn.16xlarge",
                                        "m6id.8xlarge",
                                        "i3.2xlarge",
                                        "x2idn.16xlarge",
                                        "c6id.8xlarge",
                                        "g5.16xlarge",
                                        "r6gd.8xlarge",
                                        "m6gd.8xlarge",
                                        "c6gd.8xlarge",
                                        "m6idn.8xlarge",
                                        "x2gd.8xlarge",
                                        "r7gd.8xlarge",
                                        "m7gd.8xlarge",
                                        "c7gd.8xlarge",
                                        "i4i.2xlarge",
                                        "im4gn.xlarge",
                                        "i4g.2xlarge",
                                        "is4gen.large",
                                        "m5dn.12xlarge",
                                        "r5d.12xlarge",
                                        "z1d.12xlarge",
                                        "c5d.18xlarge",
                                        "r5dn.12xlarge",
                                        "m5d.12xlarge",
                                        "c5d.12xlarge",
                                        "c5ad.12xlarge",
                                        "g4dn.metal",
                                        "m5ad.12xlarge",
                                        "r5ad.12xlarge",
                                        "z1d.metal",
                                        "p3dn.24xlarge",
                                        "m1.xlarge",
                                        "m2.4xlarge",
                                        "c1.xlarge",
                                        "i2.2xlarge",
                                        "i3en.large",
                                        "m5d.8xlarge",
                                        "r5dn.8xlarge",
                                        "m5dn.8xlarge",
                                        "c5ad.8xlarge",
                                        "r5d.8xlarge",
                                        "m5ad.8xlarge",
                                        "r5ad.8xlarge",
                                        "g4ad.8xlarge",
                                        "x1e.8xlarge",
                                        "r6idn.4xlarge",
                                        "c6id.4xlarge",
                                        "r6gd.4xlarge",
                                        "r6id.4xlarge",
                                        "c7gd.4xlarge",
                                        "m6id.4xlarge",
                                        "m6gd.4xlarge",
                                        "m6idn.4xlarge",
                                        "i3.xlarge",
                                        "r7gd.4xlarge",
                                        "x2iedn.8xlarge",
                                        "c6gd.4xlarge",
                                        "m7gd.4xlarge",
                                        "x2gd.4xlarge",
                                        "f1.4xlarge",
                                        "i4i.xlarge",
                                        "im4gn.large",
                                        "i4g.xlarge",
                                        "is4gen.medium",
                                        "c5d.9xlarge",
                                        "g5.8xlarge",
                                        "g4dn.8xlarge",
                                        "g4dn.12xlarge",
                                        "z1d.6xlarge",
                                        "gr6.8xlarge",
                                        "g4dn.16xlarge",
                                        "g6.8xlarge",
                                        "m2.2xlarge",
                                        "m1.large",
                                        "i2.xlarge",
                                        "r3.8xlarge",
                                        "c3.8xlarge",
                                        "r5ad.4xlarge",
                                        "r5d.4xlarge",
                                        "c5ad.4xlarge",
                                        "g5.4xlarge",
                                        "g6.4xlarge",
                                        "m5dn.4xlarge",
                                        "m5d.4xlarge",
                                        "m5ad.4xlarge",
                                        "r5dn.4xlarge",
                                        "gr6.4xlarge",
                                        "g4ad.4xlarge",
                                        "x1e.4xlarge",
                                        "x2iedn.4xlarge",
                                        "x2gd.2xlarge",
                                        "i3.large",
                                        "m6id.2xlarge",
                                        "r6id.2xlarge",
                                        "c6id.2xlarge",
                                        "m6idn.2xlarge",
                                        "m7gd.2xlarge",
                                        "c7gd.2xlarge",
                                        "r7gd.2xlarge",
                                        "r6gd.2xlarge",
                                        "m6gd.2xlarge",
                                        "c6gd.2xlarge",
                                        "r6idn.2xlarge",
                                        "trn1.2xlarge",
                                        "f1.2xlarge",
                                        "i4g.large",
                                        "i4i.large",
                                        "z1d.3xlarge",
                                        "g6.2xlarge",
                                        "g5.2xlarge",
                                        "m2.xlarge",
                                        "m1.medium",
                                        "c5d.4xlarge",
                                        "c1.medium",
                                        "r3.4xlarge",
                                        "c3.4xlarge",
                                        "m5d.2xlarge",
                                        "z1d.2xlarge",
                                        "r5ad.2xlarge",
                                        "m5dn.2xlarge",
                                        "c5ad.2xlarge",
                                        "m5ad.2xlarge",
                                        "r5dn.2xlarge",
                                        "r5d.2xlarge",
                                        "g4ad.2xlarge",
                                        "g6.xlarge",
                                        "g5.xlarge",
                                        "x1e.2xlarge",
                                        "m6gd.xlarge",
                                        "m6id.xlarge",
                                        "m6idn.xlarge",
                                        "c7gd.xlarge",
                                        "x2iedn.2xlarge",
                                        "c6id.xlarge",
                                        "r6id.xlarge",
                                        "c6gd.xlarge",
                                        "r7gd.xlarge",
                                        "m7gd.xlarge",
                                        "r6gd.xlarge",
                                        "r6idn.xlarge",
                                        "x2gd.xlarge",
                                        "g4dn.2xlarge",
                                        "g4dn.4xlarge",
                                        "c5d.2xlarge",
                                        "r3.2xlarge",
                                        "m3.2xlarge",
                                        "c3.2xlarge",
                                        "m1.small",
                                        "r5ad.xlarge",
                                        "r5dn.xlarge",
                                        "m5dn.xlarge",
                                        "m5ad.xlarge",
                                        "g4ad.xlarge",
                                        "c5ad.xlarge",
                                        "m5d.xlarge",
                                        "r5d.xlarge",
                                        "z1d.xlarge",
                                        "g4dn.xlarge",
                                        "x1e.xlarge",
                                        "r7gd.large",
                                        "x2iedn.xlarge",
                                        "c6id.large",
                                        "c7gd.large",
                                        "r6id.large",
                                        "m6id.large",
                                        "r6idn.large",
                                        "m7gd.large",
                                        "m6idn.large",
                                        "c6gd.large",
                                        "x2gd.large",
                                        "m6gd.large",
                                        "r6gd.large",
                                        "c5d.xlarge",
                                        "r3.xlarge",
                                        "c3.xlarge",
                                        "m3.xlarge",
                                        "z1d.large",
                                        "c5ad.large",
                                        "r5dn.large",
                                        "m5ad.large",
                                        "m5d.large",
                                        "r5d.large",
                                        "r5ad.large",
                                        "m5dn.large",
                                        "m7gd.medium",
                                        "m6gd.medium",
                                        "r7gd.medium",
                                        "c6gd.medium",
                                        "x2gd.medium",
                                        "r6gd.medium",
                                        "c7gd.medium",
                                        "c5d.large",
                                        "r3.large",
                                        "c3.large",
                                        "m3.large",
                                        "m3.medium"])
